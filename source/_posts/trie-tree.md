---
title: 前缀树
date: 2019-5-12
---
Trie 树，又叫字典树、前缀树（Prefix Tree) 、单词查找树或键树，是一种多叉树结构.如图： 
![](https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Trie_example.svg/500px-Trie_example.svg.png)

上图是一棵Trie 树， 表示了关键字集合{"a", "to", "tea", "ted", "ten", "i", "in" , "inn"}
1. 根结点不包含字符， 除根节点外的每一个子节点都包含一个字符。 
2. 从根节点到某一个节点， 路径上经过的字符连接起来， 为该节点对应的字符串。 
3. 每个节点的所有子节点包含的字符互不相同。 

通常在实现的时候， 会在节点结构中设置一个标志， 用来标记该结点处是否构成一个单词(关键字)。 

可以看出，Trie树的关键字一般都是字符串，而且Trie树把每个关键字保存在一条路径上，而不是一个结点中。另外，两个有公共前缀的关键字，在Trie树中前缀部分的路径相同，所以Trie树又叫做前缀树（Prefix Tree）

Trie树的核心思想是空间换时间，利用字符串的公共前缀来减少无谓的字符串比较以达到提高查询效率的目的。
<!-- more -->

# 缺点
1. 当hash函数很好的时候， Trie树的查找效率会低于哈希搜索. 
2. 空间消耗大

# 优点
1. 插入和查询的效率很高， 都为O(m), 其中m是待插入/查询的字符串的长度. 
    - 关于查询， 会有人说hash表时间复杂度是O(1),不是更快？ 但是，哈稀搜索的效率通常取决于hash函数的好坏， 若一个坏的hash函数导致的冲突很多， 效率并不一定比Trie树高。
2. Trie树中不同的关键字不会产生冲突。 
3. Trie 树只有在允许一个关键字关联多个值的情况下才有类似hash碰撞发生。
4. Trie 树不用求hash值， 对短字符串有更快的速度。 通常求hash值也是需要遍历字符串的。 

5. Trie树可以对关键字按字典序排序。 

# Trie树的应用
1. 字符串检索
检索/查询功能是Trie树最原始的功能。 思路就是从根节点开始一个一个字符串进行比较： 
    - 如果沿路比较， 发现不同的字符， 则表示该字符串在集合中不存在
    - 如果所有的字符全部比较完并且全部相同， 还需判断最后一个节点的标志位（标记该节点是否代表一个关键字)。
2. 词频统计
3. 字符串排序
4. 前缀匹配
5. 作为其他数据结构和算法的辅助结构