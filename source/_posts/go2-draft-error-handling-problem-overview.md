---
title: Go2设计草案——错误处理问题概述
---
原文地址：[Go2 设计草案--错误处理] https://go.googlesource.com/proposal/+/master/design/go2draft-error-handling-overview.md 

Russ Cox

August 27, 2018

# 介绍
本概述内容和附属的详细设计草案是Go2设计草案文档的一部分。 Go2相关工作的总体目标是解决Go1在大型代码码与大型团队面临的困境和难题。


其中一方面， Go开发程序在处理错误检查和错误处理代码灵活扩展的问题。 在一般的go程序中，充斥着大量错误检查代码和没有足够的代码检查错误。 （这将在下面提及) . 设计草案目标指在通过引入比当前贯用的错误处理方法更加轻量的语法来解决此问题。 

作为Go2 设计草案的一部分， 作为一个单独的问题， 我们还在考虑更改错误值的语义，但本文仅涉及错误检查和处理。 


# 问题
为了扩展到大型代码库， Go程序必须轻量，不能过度重复， 并且还要健壮，优雅的错误处理方式。 

在Go的设计中， 我们有意识的选择使用显式错误结果和显式错误检查 。 相比之下， C语言通常使用显式检查隐式错误结果，而在许多其他语言中（包括c++, c#,java和Python) ， 发现的异常处理都是隐式表达隐式结果。 

Raymond Chen的博客文章中关于隐式检查的论述更有微妙之处。 "更整洁、更优雅、更难以识别“（2005） 。 本质上， 由于权本看不陷式检查， 所以很难通过检查验证错误处理代码在检查失败时正确地从程序状态恢复。  

例如： 考虑一下如下代码， 用Go的伪代码来描述抛出异常：

```Go
func CopyFile(src, dst string) throws error {
	r := os.Open(src)
	defer r.Close()

	w := os.Create(dst)
	io.Copy(w, r)
	w.Close()
}
```
